name: TO-DO application docker
on: workflow_dispatch

jobs:
  build-and-push:
         runs-on: self-hosted
         steps:
           - name: Checkout code
             uses: actions/checkout@v3
           - name: Set up Docker Buildx
             uses: ./
             with:
               install: true

           - name: Log in to Docker Hub
             uses: docker/login-action@v3.4.0
             with:
               username: ${{ secrets.DOCKER_USERNAME }}
               password: ${{ secrets.DOCKER_PASSWORD }}

           - name: Build Docker image
             run: |
              docker build -t ${{ secrets.DOCKER_USERNAME }}/getting-started .
